<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:ClienteChatLinux.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:CompileBindings="True"
        x:DataType="vm:MainWindowViewModel"
        x:Class="ClienteChatLinux.Views.MainWindow"
        Icon="/Assets/avalonia-logo.ico"
        Title="ClienteChatLinux">

	<DockPanel>
		<!-- Linha Apelido, IP, Porta -->
		<StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="5">
			<TextBox x:Name="NicknameBox" Width="350" Watermark="Apelido"/>
			<TextBox x:Name="ServerIpBox" Width="200" Watermark="Servidor IP" Margin="5,0,0,0"/>
			<NumericUpDown x:Name="PortBox"
                           Minimum="1" Maximum="65535"
                           Value="1998" Width="200"
                           Watermark="Porta"
                           Margin="5,0,0,0"/>
		</StackPanel>

		<!-- Botões Buscar/Conectar/Desconectar -->
		<StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="5">
			<Button x:Name="DiscoverButton"
                    Content="Buscar Servidor"
                    Width="200"
                    Click="OnDiscover"/>
			<Button x:Name="ConnectButton"
                    Content="Conectar"
                    Width="200"
                    Margin="5,0,0,0"
                    Click="OnConnect"/>
			<Button x:Name="DisconnectButton"
                    Content="Desconectar"
                    Width="200"
                    Margin="5,0,0,0"
                    Click="OnDisconnect"
                    IsEnabled="False"/>
		</StackPanel>

		<!-- Área Principal: Mensagens e Lista de Usuários -->
		<Grid>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="Auto"/>
			</Grid.ColumnDefinitions>
			<Grid.RowDefinitions>
				<RowDefinition Height="*"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<!-- Caixa de Mensagens -->
			<TextBox x:Name="MessagesBox"
                     Grid.Row="0" Grid.Column="0"
                     IsReadOnly="True"
                     AcceptsReturn="True"
                     ScrollViewer.VerticalScrollBarVisibility="Auto"
                     Margin="5"/>

			<!-- Listagem de Usuários e Chat Privado -->
			<StackPanel Grid.Row="0" Grid.Column="1" Orientation="Vertical" Margin="5">
				<Button x:Name="ListUsersButton"
                        Content="Listar Usuários"
                        IsEnabled="False"
                        Click="OnListUsers"
                        Margin="0,0,0,5"/>
				<ListBox x:Name="UsersList"
                         Height="200"
                         IsEnabled="False"
                         Margin="0,0,0,5"/>
				<Button x:Name="PrivateChatButton"
                        Content="Chat Privado"
                        IsEnabled="False"
                        Click="OnPrivateChat"/>
			</StackPanel>

			<!-- Broadcast: Caixa de Texto e Botão Lado a Lado -->
			<TextBox x:Name="BroadcastBox"
                     Grid.Row="1" Grid.Column="0"
                     IsEnabled="False"
                     Margin="5"
                     Height="30"
                     VerticalAlignment="Center"/>
			<Button x:Name="BroadcastButton"
                    Grid.Row="1" Grid.Column="1"
                    Content="Broadcast"
                    IsEnabled="False"
                    Margin="5"
                    Click="OnBroadcast"/>
		</Grid>
	</DockPanel>
</Window>
